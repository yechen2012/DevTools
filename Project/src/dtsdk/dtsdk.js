var dtsdk=function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=protobuf,o=i.Reader,s=i.Writer,l=i.util,u=i.roots.default||(i.roots.default={});n.dtsdkserv=u.dtsdkserv=function(){var e,n,t={};return t.MainType=(e={},(n=Object.create(e))[e[0]="MainBase"]=0,n[e[1]="MainAccount"]=1,n[e[2]="MainGame"]=2,n),t.SubAccountType=function(){var e={},n=Object.create(e);return n[e[0]="SubLoginReq"]=0,n[e[1]="SubLoginRsp"]=1,n}(),t.SubBaseType=function(){var e={},n=Object.create(e);return n[e[0]="SubKeepAliveReq"]=0,n[e[1]="SubKeepAliveRsp"]=1,n[e[2]="SubErrRsp"]=2,n[e[3]="SubCmdRet"]=3,n}(),t.SubGameType=function(){var e={},n=Object.create(e);return n[e[0]="SubFreeRedPacketRsp"]=0,n[e[1]="SubNewFreeRedPacket"]=1,n[e[2]="SubChangeScreenRequest"]=2,n}(),t.ErrResponse=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)null!=e[n[t]]&&(this[n[t]]=e[n[t]])}return e.prototype.errCode="",e.create=function(n){return new e(n)},e.encode=function(e,n){return n||(n=s.create()),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&n.uint32(10).string(e.errCode),n},e.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},e.decode=function(e,n){e instanceof o||(e=o.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new u.dtsdkserv.ErrResponse;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:r.errCode=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.errCode&&e.hasOwnProperty("errCode")&&!l.isString(e.errCode)?"errCode: string expected":null},e.fromObject=function(e){if(e instanceof u.dtsdkserv.ErrResponse)return e;var n=new u.dtsdkserv.ErrResponse;return null!=e.errCode&&(n.errCode=String(e.errCode)),n},e.toObject=function(e,n){n||(n={});var t={};return n.defaults&&(t.errCode=""),null!=e.errCode&&e.hasOwnProperty("errCode")&&(t.errCode=e.errCode),t},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.LoginRequest=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)null!=e[n[t]]&&(this[n[t]]=e[n[t]])}return e.prototype.token="",e.prototype.gameCode="",e.prototype.version="",e.prototype.isLogin=!1,e.prototype.deviceInfo="",e.prototype.loadingTime=0,e.create=function(n){return new e(n)},e.encode=function(e,n){return n||(n=s.create()),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&n.uint32(10).string(e.token),null!=e.gameCode&&Object.hasOwnProperty.call(e,"gameCode")&&n.uint32(18).string(e.gameCode),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&n.uint32(26).string(e.version),null!=e.isLogin&&Object.hasOwnProperty.call(e,"isLogin")&&n.uint32(32).bool(e.isLogin),null!=e.deviceInfo&&Object.hasOwnProperty.call(e,"deviceInfo")&&n.uint32(42).string(e.deviceInfo),null!=e.loadingTime&&Object.hasOwnProperty.call(e,"loadingTime")&&n.uint32(48).int32(e.loadingTime),n},e.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},e.decode=function(e,n){e instanceof o||(e=o.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new u.dtsdkserv.LoginRequest;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:r.token=e.string();break;case 2:r.gameCode=e.string();break;case 3:r.version=e.string();break;case 4:r.isLogin=e.bool();break;case 5:r.deviceInfo=e.string();break;case 6:r.loadingTime=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.token&&e.hasOwnProperty("token")&&!l.isString(e.token)?"token: string expected":null!=e.gameCode&&e.hasOwnProperty("gameCode")&&!l.isString(e.gameCode)?"gameCode: string expected":null!=e.version&&e.hasOwnProperty("version")&&!l.isString(e.version)?"version: string expected":null!=e.isLogin&&e.hasOwnProperty("isLogin")&&"boolean"!=typeof e.isLogin?"isLogin: boolean expected":null!=e.deviceInfo&&e.hasOwnProperty("deviceInfo")&&!l.isString(e.deviceInfo)?"deviceInfo: string expected":null!=e.loadingTime&&e.hasOwnProperty("loadingTime")&&!l.isInteger(e.loadingTime)?"loadingTime: integer expected":null},e.fromObject=function(e){if(e instanceof u.dtsdkserv.LoginRequest)return e;var n=new u.dtsdkserv.LoginRequest;return null!=e.token&&(n.token=String(e.token)),null!=e.gameCode&&(n.gameCode=String(e.gameCode)),null!=e.version&&(n.version=String(e.version)),null!=e.isLogin&&(n.isLogin=Boolean(e.isLogin)),null!=e.deviceInfo&&(n.deviceInfo=String(e.deviceInfo)),null!=e.loadingTime&&(n.loadingTime=0|e.loadingTime),n},e.toObject=function(e,n){n||(n={});var t={};return n.defaults&&(t.token="",t.gameCode="",t.version="",t.isLogin=!1,t.deviceInfo="",t.loadingTime=0),null!=e.token&&e.hasOwnProperty("token")&&(t.token=e.token),null!=e.gameCode&&e.hasOwnProperty("gameCode")&&(t.gameCode=e.gameCode),null!=e.version&&e.hasOwnProperty("version")&&(t.version=e.version),null!=e.isLogin&&e.hasOwnProperty("isLogin")&&(t.isLogin=e.isLogin),null!=e.deviceInfo&&e.hasOwnProperty("deviceInfo")&&(t.deviceInfo=e.deviceInfo),null!=e.loadingTime&&e.hasOwnProperty("loadingTime")&&(t.loadingTime=e.loadingTime),t},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.LoginResponse=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)null!=e[n[t]]&&(this[n[t]]=e[n[t]])}return e.prototype.playerName="",e.prototype.platformCode="",e.prototype.currency="",e.prototype.servVersion="",e.create=function(n){return new e(n)},e.encode=function(e,n){return n||(n=s.create()),null!=e.playerName&&Object.hasOwnProperty.call(e,"playerName")&&n.uint32(10).string(e.playerName),null!=e.platformCode&&Object.hasOwnProperty.call(e,"platformCode")&&n.uint32(18).string(e.platformCode),null!=e.currency&&Object.hasOwnProperty.call(e,"currency")&&n.uint32(26).string(e.currency),null!=e.servVersion&&Object.hasOwnProperty.call(e,"servVersion")&&n.uint32(34).string(e.servVersion),n},e.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},e.decode=function(e,n){e instanceof o||(e=o.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new u.dtsdkserv.LoginResponse;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:r.playerName=e.string();break;case 2:r.platformCode=e.string();break;case 3:r.currency=e.string();break;case 4:r.servVersion=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.playerName&&e.hasOwnProperty("playerName")&&!l.isString(e.playerName)?"playerName: string expected":null!=e.platformCode&&e.hasOwnProperty("platformCode")&&!l.isString(e.platformCode)?"platformCode: string expected":null!=e.currency&&e.hasOwnProperty("currency")&&!l.isString(e.currency)?"currency: string expected":null!=e.servVersion&&e.hasOwnProperty("servVersion")&&!l.isString(e.servVersion)?"servVersion: string expected":null},e.fromObject=function(e){if(e instanceof u.dtsdkserv.LoginResponse)return e;var n=new u.dtsdkserv.LoginResponse;return null!=e.playerName&&(n.playerName=String(e.playerName)),null!=e.platformCode&&(n.platformCode=String(e.platformCode)),null!=e.currency&&(n.currency=String(e.currency)),null!=e.servVersion&&(n.servVersion=String(e.servVersion)),n},e.toObject=function(e,n){n||(n={});var t={};return n.defaults&&(t.playerName="",t.platformCode="",t.currency="",t.servVersion=""),null!=e.playerName&&e.hasOwnProperty("playerName")&&(t.playerName=e.playerName),null!=e.platformCode&&e.hasOwnProperty("platformCode")&&(t.platformCode=e.platformCode),null!=e.currency&&e.hasOwnProperty("currency")&&(t.currency=e.currency),null!=e.servVersion&&e.hasOwnProperty("servVersion")&&(t.servVersion=e.servVersion),t},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.KeepAliveRequest=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)null!=e[n[t]]&&(this[n[t]]=e[n[t]])}return e.prototype.version="",e.create=function(n){return new e(n)},e.encode=function(e,n){return n||(n=s.create()),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&n.uint32(10).string(e.version),n},e.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},e.decode=function(e,n){e instanceof o||(e=o.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new u.dtsdkserv.KeepAliveRequest;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:r.version=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.version&&e.hasOwnProperty("version")&&!l.isString(e.version)?"version: string expected":null},e.fromObject=function(e){if(e instanceof u.dtsdkserv.KeepAliveRequest)return e;var n=new u.dtsdkserv.KeepAliveRequest;return null!=e.version&&(n.version=String(e.version)),n},e.toObject=function(e,n){n||(n={});var t={};return n.defaults&&(t.version=""),null!=e.version&&e.hasOwnProperty("version")&&(t.version=e.version),t},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.KeepAliveResponse=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)null!=e[n[t]]&&(this[n[t]]=e[n[t]])}return e.prototype.timeNow=l.Long?l.Long.fromBits(0,0,!1):0,e.create=function(n){return new e(n)},e.encode=function(e,n){return n||(n=s.create()),null!=e.timeNow&&Object.hasOwnProperty.call(e,"timeNow")&&n.uint32(8).int64(e.timeNow),n},e.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},e.decode=function(e,n){e instanceof o||(e=o.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new u.dtsdkserv.KeepAliveResponse;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:r.timeNow=e.int64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.timeNow&&e.hasOwnProperty("timeNow")&&!(l.isInteger(e.timeNow)||e.timeNow&&l.isInteger(e.timeNow.low)&&l.isInteger(e.timeNow.high))?"timeNow: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.dtsdkserv.KeepAliveResponse)return e;var n=new u.dtsdkserv.KeepAliveResponse;return null!=e.timeNow&&(l.Long?(n.timeNow=l.Long.fromValue(e.timeNow)).unsigned=!1:"string"==typeof e.timeNow?n.timeNow=parseInt(e.timeNow,10):"number"==typeof e.timeNow?n.timeNow=e.timeNow:"object"===r(e.timeNow)&&(n.timeNow=new l.LongBits(e.timeNow.low>>>0,e.timeNow.high>>>0).toNumber())),n},e.toObject=function(e,n){n||(n={});var t={};if(n.defaults)if(l.Long){var r=new l.Long(0,0,!1);t.timeNow=n.longs===String?r.toString():n.longs===Number?r.toNumber():r}else t.timeNow=n.longs===String?"0":0;return null!=e.timeNow&&e.hasOwnProperty("timeNow")&&("number"==typeof e.timeNow?t.timeNow=n.longs===String?String(e.timeNow):e.timeNow:t.timeNow=n.longs===String?l.Long.prototype.toString.call(e.timeNow):n.longs===Number?new l.LongBits(e.timeNow.low>>>0,e.timeNow.high>>>0).toNumber():e.timeNow),t},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.CmdRet=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)null!=e[n[t]]&&(this[n[t]]=e[n[t]])}return e.prototype.mainType=0,e.prototype.subType=0,e.prototype.isOk=!1,e.create=function(n){return new e(n)},e.encode=function(e,n){return n||(n=s.create()),null!=e.mainType&&Object.hasOwnProperty.call(e,"mainType")&&n.uint32(8).int32(e.mainType),null!=e.subType&&Object.hasOwnProperty.call(e,"subType")&&n.uint32(16).int32(e.subType),null!=e.isOk&&Object.hasOwnProperty.call(e,"isOk")&&n.uint32(24).bool(e.isOk),n},e.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},e.decode=function(e,n){e instanceof o||(e=o.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new u.dtsdkserv.CmdRet;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:r.mainType=e.int32();break;case 2:r.subType=e.int32();break;case 3:r.isOk=e.bool();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.mainType&&e.hasOwnProperty("mainType")&&!l.isInteger(e.mainType)?"mainType: integer expected":null!=e.subType&&e.hasOwnProperty("subType")&&!l.isInteger(e.subType)?"subType: integer expected":null!=e.isOk&&e.hasOwnProperty("isOk")&&"boolean"!=typeof e.isOk?"isOk: boolean expected":null},e.fromObject=function(e){if(e instanceof u.dtsdkserv.CmdRet)return e;var n=new u.dtsdkserv.CmdRet;return null!=e.mainType&&(n.mainType=0|e.mainType),null!=e.subType&&(n.subType=0|e.subType),null!=e.isOk&&(n.isOk=Boolean(e.isOk)),n},e.toObject=function(e,n){n||(n={});var t={};return n.defaults&&(t.mainType=0,t.subType=0,t.isOk=!1),null!=e.mainType&&e.hasOwnProperty("mainType")&&(t.mainType=e.mainType),null!=e.subType&&e.hasOwnProperty("subType")&&(t.subType=e.subType),null!=e.isOk&&e.hasOwnProperty("isOk")&&(t.isOk=e.isOk),t},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.FreeSpin=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)null!=e[n[t]]&&(this[n[t]]=e[n[t]])}return e.prototype.id="",e.prototype.bet=0,e.prototype.line=0,e.prototype.totalnums=0,e.prototype.times=0,e.prototype.lastnums=0,e.prototype.Title="",e.prototype.Info="",e.prototype.ExpireTime=l.Long?l.Long.fromBits(0,0,!1):0,e.create=function(n){return new e(n)},e.encode=function(e,n){return n||(n=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&n.uint32(10).string(e.id),null!=e.bet&&Object.hasOwnProperty.call(e,"bet")&&n.uint32(16).int32(e.bet),null!=e.line&&Object.hasOwnProperty.call(e,"line")&&n.uint32(24).int32(e.line),null!=e.totalnums&&Object.hasOwnProperty.call(e,"totalnums")&&n.uint32(32).int32(e.totalnums),null!=e.times&&Object.hasOwnProperty.call(e,"times")&&n.uint32(40).int32(e.times),null!=e.lastnums&&Object.hasOwnProperty.call(e,"lastnums")&&n.uint32(48).int32(e.lastnums),null!=e.Title&&Object.hasOwnProperty.call(e,"Title")&&n.uint32(58).string(e.Title),null!=e.Info&&Object.hasOwnProperty.call(e,"Info")&&n.uint32(66).string(e.Info),null!=e.ExpireTime&&Object.hasOwnProperty.call(e,"ExpireTime")&&n.uint32(72).int64(e.ExpireTime),n},e.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},e.decode=function(e,n){e instanceof o||(e=o.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new u.dtsdkserv.FreeSpin;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:r.id=e.string();break;case 2:r.bet=e.int32();break;case 3:r.line=e.int32();break;case 4:r.totalnums=e.int32();break;case 5:r.times=e.int32();break;case 6:r.lastnums=e.int32();break;case 7:r.Title=e.string();break;case 8:r.Info=e.string();break;case 9:r.ExpireTime=e.int64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!l.isString(e.id)?"id: string expected":null!=e.bet&&e.hasOwnProperty("bet")&&!l.isInteger(e.bet)?"bet: integer expected":null!=e.line&&e.hasOwnProperty("line")&&!l.isInteger(e.line)?"line: integer expected":null!=e.totalnums&&e.hasOwnProperty("totalnums")&&!l.isInteger(e.totalnums)?"totalnums: integer expected":null!=e.times&&e.hasOwnProperty("times")&&!l.isInteger(e.times)?"times: integer expected":null!=e.lastnums&&e.hasOwnProperty("lastnums")&&!l.isInteger(e.lastnums)?"lastnums: integer expected":null!=e.Title&&e.hasOwnProperty("Title")&&!l.isString(e.Title)?"Title: string expected":null!=e.Info&&e.hasOwnProperty("Info")&&!l.isString(e.Info)?"Info: string expected":null!=e.ExpireTime&&e.hasOwnProperty("ExpireTime")&&!(l.isInteger(e.ExpireTime)||e.ExpireTime&&l.isInteger(e.ExpireTime.low)&&l.isInteger(e.ExpireTime.high))?"ExpireTime: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.dtsdkserv.FreeSpin)return e;var n=new u.dtsdkserv.FreeSpin;return null!=e.id&&(n.id=String(e.id)),null!=e.bet&&(n.bet=0|e.bet),null!=e.line&&(n.line=0|e.line),null!=e.totalnums&&(n.totalnums=0|e.totalnums),null!=e.times&&(n.times=0|e.times),null!=e.lastnums&&(n.lastnums=0|e.lastnums),null!=e.Title&&(n.Title=String(e.Title)),null!=e.Info&&(n.Info=String(e.Info)),null!=e.ExpireTime&&(l.Long?(n.ExpireTime=l.Long.fromValue(e.ExpireTime)).unsigned=!1:"string"==typeof e.ExpireTime?n.ExpireTime=parseInt(e.ExpireTime,10):"number"==typeof e.ExpireTime?n.ExpireTime=e.ExpireTime:"object"===r(e.ExpireTime)&&(n.ExpireTime=new l.LongBits(e.ExpireTime.low>>>0,e.ExpireTime.high>>>0).toNumber())),n},e.toObject=function(e,n){n||(n={});var t={};if(n.defaults)if(t.id="",t.bet=0,t.line=0,t.totalnums=0,t.times=0,t.lastnums=0,t.Title="",t.Info="",l.Long){var r=new l.Long(0,0,!1);t.ExpireTime=n.longs===String?r.toString():n.longs===Number?r.toNumber():r}else t.ExpireTime=n.longs===String?"0":0;return null!=e.id&&e.hasOwnProperty("id")&&(t.id=e.id),null!=e.bet&&e.hasOwnProperty("bet")&&(t.bet=e.bet),null!=e.line&&e.hasOwnProperty("line")&&(t.line=e.line),null!=e.totalnums&&e.hasOwnProperty("totalnums")&&(t.totalnums=e.totalnums),null!=e.times&&e.hasOwnProperty("times")&&(t.times=e.times),null!=e.lastnums&&e.hasOwnProperty("lastnums")&&(t.lastnums=e.lastnums),null!=e.Title&&e.hasOwnProperty("Title")&&(t.Title=e.Title),null!=e.Info&&e.hasOwnProperty("Info")&&(t.Info=e.Info),null!=e.ExpireTime&&e.hasOwnProperty("ExpireTime")&&("number"==typeof e.ExpireTime?t.ExpireTime=n.longs===String?String(e.ExpireTime):e.ExpireTime:t.ExpireTime=n.longs===String?l.Long.prototype.toString.call(e.ExpireTime):n.longs===Number?new l.LongBits(e.ExpireTime.low>>>0,e.ExpireTime.high>>>0).toNumber():e.ExpireTime),t},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.FreeSpinRsp=function(){function e(e){if(this.FSpin=[],e)for(var n=Object.keys(e),t=0;t<n.length;++t)null!=e[n[t]]&&(this[n[t]]=e[n[t]])}return e.prototype.FSpin=l.emptyArray,e.create=function(n){return new e(n)},e.encode=function(e,n){if(n||(n=s.create()),null!=e.FSpin&&e.FSpin.length)for(var t=0;t<e.FSpin.length;++t)u.dtsdkserv.FreeSpin.encode(e.FSpin[t],n.uint32(10).fork()).ldelim();return n},e.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},e.decode=function(e,n){e instanceof o||(e=o.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new u.dtsdkserv.FreeSpinRsp;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:r.FSpin&&r.FSpin.length||(r.FSpin=[]),r.FSpin.push(u.dtsdkserv.FreeSpin.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.FSpin&&e.hasOwnProperty("FSpin")){if(!Array.isArray(e.FSpin))return"FSpin: array expected";for(var n=0;n<e.FSpin.length;++n){var t=u.dtsdkserv.FreeSpin.verify(e.FSpin[n]);if(t)return"FSpin."+t}}return null},e.fromObject=function(e){if(e instanceof u.dtsdkserv.FreeSpinRsp)return e;var n=new u.dtsdkserv.FreeSpinRsp;if(e.FSpin){if(!Array.isArray(e.FSpin))throw TypeError(".dtsdkserv.FreeSpinRsp.FSpin: array expected");n.FSpin=[];for(var t=0;t<e.FSpin.length;++t){if("object"!==r(e.FSpin[t]))throw TypeError(".dtsdkserv.FreeSpinRsp.FSpin: object expected");n.FSpin[t]=u.dtsdkserv.FreeSpin.fromObject(e.FSpin[t])}}return n},e.toObject=function(e,n){n||(n={});var t={};if((n.arrays||n.defaults)&&(t.FSpin=[]),e.FSpin&&e.FSpin.length){t.FSpin=[];for(var r=0;r<e.FSpin.length;++r)t.FSpin[r]=u.dtsdkserv.FreeSpin.toObject(e.FSpin[r],n)}return t},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t.ScreenType=function(){var e={},n=Object.create(e);return n[e[0]="INVALIDSCREENTYPE"]=0,n[e[1]="HORIZONTAL"]=1,n[e[2]="VERTICAL"]=2,n}(),t.ChangeScreenRequest=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)null!=e[n[t]]&&(this[n[t]]=e[n[t]])}return e.prototype.screen=0,e.create=function(n){return new e(n)},e.encode=function(e,n){return n||(n=s.create()),null!=e.screen&&Object.hasOwnProperty.call(e,"screen")&&n.uint32(8).int32(e.screen),n},e.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},e.decode=function(e,n){e instanceof o||(e=o.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new u.dtsdkserv.ChangeScreenRequest;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:r.screen=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.screen&&e.hasOwnProperty("screen"))switch(e.screen){default:return"screen: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof u.dtsdkserv.ChangeScreenRequest)return e;var n=new u.dtsdkserv.ChangeScreenRequest;switch(e.screen){case"INVALIDSCREENTYPE":case 0:n.screen=0;break;case"HORIZONTAL":case 1:n.screen=1;break;case"VERTICAL":case 2:n.screen=2}return n},e.toObject=function(e,n){n||(n={});var t={};return n.defaults&&(t.screen=n.enums===String?"INVALIDSCREENTYPE":0),null!=e.screen&&e.hasOwnProperty("screen")&&(t.screen=n.enums===String?u.dtsdkserv.ScreenType[e.screen]:e.screen),t},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e}(),t}()},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={outputlog:!1};n.config=r,n.log=function(e,n){r.outputlog&&console.log("["+e+"] "+n)},n.setUint16=function(e,n,t){e[n]=255&t,e[n+1]=(65280&t)>>8},n.getUint16=function(e,n){return e[n]+(e[n+1]<<8)},n.setUint32=function(e,n,t){e[n]=255&t,e[n+1]=(65280&t)>>8,e[n+2]=(16711680&t)>>16,e[n+3]=(4278190080&t)>>24},n.getUint32=function(e,n){return e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24)},n.appendBytes=function(e,n){var t=new Uint8Array(e.length+n.length);return t.set(e,0),t.set(n,e.length),t}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getDtsdkclient=n.clientType=n.getVersion=n.getConneting=n.sendMsgToDtsdk=n.pushCallBack=n.createObject=n.onWebSocketState=n.init=n.pb=n.config=void 0;var r=t(3),i=t(0),o=t(1),s=null;n.config=o.config,n.pb=i.dtsdkserv,n.init=function(e){(0,o.log)("info","dtapi 1.0.0 init..."),null!=e&&""!=e&&(null!=s&&s.close(),(s=new r.DTCommonClient(e)).connect())},n.onWebSocketState=function(e,n,t,r){s.onWebSocketOpenCallBack=e,s.onWebSocketOnMessage=n,s.onWebSocketOnError=t,s.onWebSocketOnClose=r},n.createObject=function(e,n){return s.createObject(e,n)},n.pushCallBack=function(e,n,t){s.pushCallBack(e,n,t)},n.sendMsgToDtsdk=function(e,n,t,r){s.sendmsg(e,n,t,r)},n.getConneting=function(){var e=!1;return s&&(e=s.isConnecting),e},n.getVersion=function(){return s?s.version:""},n.clientType=function(){return s?s.clienttype:""},n.getDtsdkclient=function(){return s}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DTCommonClient=n.HEADERLEN=n.WebSocket=void 0;var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),i=t(0),o=t(1);var s=n.WebSocket=s||window.WebSocket||window.MozWebSocket,l=n.HEADERLEN=4;n.DTCommonClient=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),(0,o.log)("info","create DTCommonClient Instance."),this.servAddr=n,this.ws=null,this.msgbuf=null,this.version="1.0.6",this.isConnecting=!1,this.heartTimer=null,this.heartTime=30,this.heartAcceptTime=10,this.hasAcceptMsg=!1,this.reconnectTimes=0,this.isByActive=!1,this.onWebSocketOpenCallBack=null,this.onWebSocketOnMessage=null,this.onWebSocketOnError=null,this.onWebSocketOnClose=null,this.clientdata=[],this.initdata()}return r(e,[{key:"initdata",value:function(){this.clientdata=[];for(var e=Object.keys(i.dtsdkserv.MainType),n=0;n<e.length;n++)this.clientdata.push([]);var t=Object.keys(i.dtsdkserv.SubBaseType);for(n=0;n<t.length;n++){var r=null,s=null;0==n&&(r=i.dtsdkserv.KeepAliveRequest),1==n&&(s=i.dtsdkserv.KeepAliveResponse),2==n&&(s=i.dtsdkserv.ErrResponse),3==n&&(s=i.dtsdkserv.CmdRet),this.clientdata[0].push([null,r,s])}var l=Object.keys(i.dtsdkserv.SubAccountType);for(n=0;n<l.length;n++){r=null,s=null;0==n&&(r=i.dtsdkserv.LoginRequest),1==n&&(s=i.dtsdkserv.LoginResponse),this.clientdata[1].push([null,r,s])}var u=Object.keys(i.dtsdkserv.SubGameType);for(n=0;n<u.length;n++){r=null,s=null;0==n&&(s=i.dtsdkserv.FreeSpinRsp),1==n&&(s=i.dtsdkserv.FreeSpin),2==n&&(r=i.dtsdkserv.ChangeScreenRequest),this.clientdata[2].push([null,r,s])}(0,o.log)("length",this.clientdata.length)}},{key:"pushCallBack",value:function(e,n,t){this.clientdata[e]&&this.clientdata[e][n]?this.clientdata[e][n][0]=t:(0,o.log)("bucunzai","")}},{key:"getCallBack",value:function(e,n){var t="";n&&(t=this.clientdata[e.maintype][e.subtype][2].decode(n,e.len)),this.clientdata[e.maintype][e.subtype][0]?this.clientdata[e.maintype][e.subtype][0](t):(0,o.log)("bucunzai1","")}},{key:"connect",value:function(){var e=this;if(!this.isConnecting){(0,o.log)("info","connect dtapiserv "+this.servAddr+" ..."),this.ws=new s(this.servAddr),this.ws.binaryType="arraybuffer";var n=this;this.ws.onopen=function(t){e.isConnecting=!0,e.isByActive=!1,n.onWebSocketOpenCallBack&&n.onWebSocketOpenCallBack(t)},this.ws.onmessage=function(e){n._ondata(e.data,e.flags)},this.ws.onerror=function(e){n.isConnecting=!1,(0,o.log)("info","dtapiserv "+n.servAddr+" error."),(0,o.log)("net conneting err"," ")},this.ws.onclose=function(e){n.isConnecting=!1,(0,o.log)("info","dtapiserv "+n.servAddr+" close."),(0,o.log)("net conneting fail"," "),n.ws=null,n.onWebSocketOnClose&&0==n.isByActive&&n.onWebSocketOnClose(e),n.stopReConnect(),n.reConnect()}}}},{key:"reConnect",value:function(){this.reconnectTimes++,(0,o.log)("this.reconnectTimes -- ",this.reconnectTimes),this.reconnectTimes>=5||this.connect()}},{key:"stopReConnect",value:function(){}},{key:"createObject",value:function(e,n){var t=void 0;return this.clientdata[e][n]&&this.clientdata[e][n][1]&&(t=this.clientdata[e][n][1].create()),t}},{key:"close",value:function(){(0,o.log)("The client initiatively closes the network connection."," "),null!=this.ws&&((0,o.log)("this.ws closeing"," "),this.ws.close(),(0,o.log)("this.ws closed"," ")),null!=this.heartTimer&&this.stopHeartTimer()}},{key:"closebyclient",value:function(){(0,o.log)("The client initiatively closes the network connection."," "),null!=this.ws&&(this.isByActive=!0,this.reconnectTimes=5,(0,o.log)("this.ws closeing"," "),this.ws.close(),(0,o.log)("this.ws closed"," ")),null!=this.heartTimer&&this.stopHeartTimer()}},{key:"sendmsg",value:function(e,n,t,r){if(null!=this.ws){var i=this.clientdata[e][n][1].encode(t).finish(),s=new Uint8Array(l);s[0]=e,s[1]=n,(0,o.setUint16)(s,2,i.length),(0,o.setUint32)(s,4,0),(0,o.setUint16)(s,8,0),this.ws.send((0,o.appendBytes)(s,i))}}},{key:"_ondata",value:function(e,n){this.parseMsg(e)}},{key:"parseHeader",value:function(e){return{maintype:e[0],subtype:e[1],len:(0,o.getUint16)(e,2)}}},{key:"parseMsg",value:function(e){if(this.msgbuf=null,null==this.msgbuf?this.msgbuf=new Uint8Array(e):this.msgbuf=(0,o.appendBytes)(this.msgbuf,new Uint8Array(e)),this.msgbuf.length>=l){var n=this.parseHeader(this.msgbuf);if(n.len+l==this.msgbuf.length)if(n.len>0){var t=this.msgbuf.subarray(l,n.len+l);this.onMsg(n,t)}else this.onMsg(n,null);else{if(n.len+l<this.msgbuf.length)return;if(n.len>0){var r=this.msgbuf.subarray(l,n.len+l);this.onMsg(n,r)}else this.onMsg(n,null);this.msgbuf=this.msgbuf.subarray(l+n.len,this.msgbuf.length-n.len)}}}},{key:"onMsg",value:function(e,n){if(e.maintype==i.dtsdkserv.MainType.MainBase&&e.subtype==i.dtsdkserv.SubBaseType.SubKeepAliveRsp){var t=i.dtsdkserv.KeepAliveResponse.decode(n,e.len);this.onKeepAliveResponse(t)}else e.maintype==i.dtsdkserv.MainType.MainAccount&&(e.subtype!=i.dtsdkserv.SubAccountType.SubAccountLoginRsp&&e.subtype!=i.dtsdkserv.SubAccountType.SubLoginRsp||this.onKeepAliveRequest()),this.getCallBack(e,n)}},{key:"onKeepAliveRequest",value:function(){if(null==this.heartTimer){var e=0,n=this;n.startHeartTimer(),this.heartTimer=setInterval((function(){++e>n.heartAcceptTime&&0==n.hasAcceptMsg&&((0,o.log)("10 seconds later, no heartbeat was returned."," "),e=0,n.stopHeartTimer(),n.isConnecting=!1,n.close(),n.clientdata[i.dtsdkserv.MainType.MainBase][i.dtsdkserv.SubBaseType.SubErrRsp][0]()),e>n.heartTime&&(e=0,n.startHeartTimer())}),1e3)}}},{key:"startHeartTimer",value:function(){if(1==this.isConnecting){(0,o.log)("send heartbeat"," "),this.hasAcceptMsg=!1;var e=this.createObject(i.dtsdkserv.MainType.MainBase,i.dtsdkserv.SubBaseType.SubKeepAliveReq);e.version=this.version,this.sendmsg(i.dtsdkserv.MainType.MainBase,i.dtsdkserv.SubBaseType.SubKeepAliveReq,e)}}},{key:"onKeepAliveResponse",value:function(e){var n,t,r,i,s,l,u,c;(0,o.log)("Accept heartbeat message",(n=e.timeNow,t=new Date(1e3*n),r=t.getFullYear()+"-",i=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",s=t.getDate()+" ",l=t.getHours()+":",u=t.getMinutes()+":",c=t.getSeconds(),r+i+s+l+u+c)),this.hasAcceptMsg=!0}},{key:"stopHeartTimer",value:function(){this.heartTimer&&((0,o.log)("remove heartbeat"," "),clearInterval(this.heartTimer),this.heartTimer=null)}}]),e}()}]);